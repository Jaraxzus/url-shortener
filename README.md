# URL-shortener

## Описание проекта

Сервис для сокращения ссылок. Сокращает полные адреса сайтов до 8 значного кода.

## Запуск проекта

### Требования

Перед запуском проекта убедитесь, что на вашем компьютере установлены следующие компоненты:

- Docker, Docker Compose
- make

### Инструкции по запуску

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/Jaraxzus/url-shortener.git
   cd ваш-проект
   ```

2. Запустите проект:

   ```bash
   make dpu
   ```

3. Сервер запустится по адресу `http://localhost:8080`.

### Использование

По URL `http://127.0.0.1:8080/a/?url=` осуществляeться добавление ссылки, например: `http://127.0.0.1:8080/a/?url=http%3A%2F%2Fgoogle.com%2F%3Fq%3Dgolang`

Возвращается ответ с кодом 200 и 8-ми символьным кодом в теле ответа (/^\[A-z0-9]{8}$/). При добавлении одной и той же ссылки - код будет одним и тем же.

По URL `http://127.0.0.1:8080/s/<код>` осуществлятся 302-й редирект на исходную ссылку.

## Замечания

### Важные моменты

#### Основной стек

- Gin, для реализации API.
- В качестве постоянного хранилища данных используется MongoDB.
- Для ускорения операций чтения используется Redis, для кеширования.

#### Замечания по заданию

- Задание требует писать api не подходящией под категорию REST. А именно создание ресурса черeз GET запрос.

#### Ответ на вопрос в тз

Что делать, если нужно хранить 1 млн ссылок, 10 млн, 100 млн?

Думаю, в этом примере будет достаточно настроить шардирование в MongoDB и физически наращивать объемы памяти.

### Известные проблемы

- Вероятно это не самый оптимальный код, с точки зрения произодительности, нужно профилировать узкие места, и оптимизировать их.
- Я попытался сделать код по заветам чистого кода, но ощущение, что у меня совсем не получилось. Вероятно, это из-за того, что я пока не так хорошо понимаю Go, как хотелось бы.
- Очень плохо написан handler, он работает, но его нужно рефакторить.
- Также желательно улучшить обработку ошибок во всем проекте, а также более правильно научиться пользоваться интерфейсами и другими возможностями Go, чтобы сделать код более читаемым и легко масштабируемым.
